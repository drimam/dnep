<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Thumbnail Generator with Domain Filter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@microlink/mql@latest/dist/mql.min.js"></script>
</head>
<body class="bg-gradient-to-r from-blue-100 to-purple-100 min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-2xl bg-white rounded-xl shadow-lg p-6">
        <h4 class="text-sm font-bold text-gray-800 mb-4">Product Name & Image Auto Fetch</h4>
        <div class="flex items-center space-x-4 mb-4">
            <div id="thumbnailContainer" class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative flex-shrink-0 border-2 border-gray-200 transition-all duration-300">
                <div id="loadingSpinner" class="absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 z-10 hidden">
                    <svg class="animate-spin h-8 w-8 text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </div>
                <p id="placeholderText" class="text-gray-400 text-xs text-center p-1">Enter URL</p>
            </div>
            <div class="flex-1">
                <input type="text" id="urlInput" placeholder="Paste your URL here" class="w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200">
            </div>
        </div>
        <div id="domainMessage" class="text-red-500 text-sm mb-4 hidden"></div>
        <div class="mb-1">
            <input type="text" id="productName" placeholder="Product Name" maxlength="30" class="w-full px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200">
        </div>
        <p id="productNameHint" class="text-green-600 text-xs mb-4 hidden">Please edit the product name if it's incorrect.</p>
        <p id="characterCount" class="text-gray-500 text-xs mb-4">0 / 30</p>
    </div>

    <script>
        const urlInput = document.getElementById('urlInput');
        const thumbnailContainer = document.getElementById('thumbnailContainer');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const placeholderText = document.getElementById('placeholderText');
        const productNameInput = document.getElementById('productName');
        const productNameHint = document.getElementById('productNameHint');
        const characterCount = document.getElementById('characterCount');
        const domainMessage = document.getElementById('domainMessage');

        const allowedDomains = [
    'www.amazon.in', 
    'amazon.in', 
    'amzn.in', 
    'flipkart.com', 
    'dl.flipkart.com', 
    'www.myntra.com', 
    'firstcry.com', 
    'clarks.in', 
    'decathlon.in', 
    'www2.hm.com/en_in', 
    'hm.com', 
    'ajio.com', 
    'nykaa.com', 
    'www.nykaafashion.com', 
    'www.zara.com/in', 
    'meesho.com', 
    'in.jbl.com', 
    'boat-lifestyle.com', 
    'www.layers.shop', 
    'boodmo.com', 
    'makemydelivery.com', 
    'theblackstore.in', 
    'baccabucci.com', 
    'shopsy.in', 
    'shopforaurelia.com', 
    'nutrabay.com', 
    'thevistastore.in', 
    'boldcare.in', 
    'headphonezone.in', 
    'mdcomputers.in', 
    'pantaloons.com', 
    'westside.com', 
    'swisse.co.in', 
    'marksandspencer.in', 
    'casioindiashop.com', 
    'croma.com', 
    'mivi.in', 
    'robu.in', 
    'shein.in', 
    'buy.realme.com', 
    'sephora.in', 
    'store.mi.com/in', 
    'www.uniqlo.com/in', 
    'muscleblaze.com', 
    'www.adidas.co.in', 
    'adidas.co.in', 
    'acharyaprashant.org', 
    'healthkart.com', 
    'wforwoman.com', 
    'jockey.in', 
    'xyxxcrew.com', 
    'maxbhi.com', 
    'srisritattva.com', 
    'avvatarindia.com', 
    'sbd-india.com', 
    'nobero.com', 
    'snitch.co.in', 
    'in.puma.com', 
    'rynoxgear.com', 
    'kapaver.com', 
    'lenskart.com', 
    'limeroad.com', 
    'aldoshoes.com', 
    'ishalife.sadhguru.org', 
    'crocs.in', 
    'shop.bewakoof.com', 
    'libertyshoesonline.com', 
    'pathpavers.in', 
    'safaribags.com', 
    'intl.diabexy.com', 
    'diabexy.com', 
    'snapdeal.com', 
    'reebok.abfrl.in', 
    'perfumesteal.in', 
    'www.biba.in', 
    'biba.in', 
    'urbanmonkey.com', 
    'www.nike.com/in', 
    'footballmonk.in', 
    'levi.in', 
    'thesouledstore.com', 
    'gonoise.com', 
    'drsu.in', 
    'earthrhythm.com', 
    'eauto.co.in', 
    'ecovacsindia.in', 
    'enfieldandactivazone.com', 
    'forever21.abfrl.in', 
    'fuaark.com', 
    'gap.ajio.com', 
    'gap.nnnow.com', 
    'happafoods.com', 
    'hatstore.co.in', 
    'healthfarmnutrition.com', 
    'headsupfortails.com', 
    'idaho-o.com', 
    'in.amazfit.com', 
    'in.iherb.com', 
    'in.urbanic.com', 
    'in.sirphire.com', 
    'india.diabexy.com', 
    'indianaquarium.com', 
    'kalakaarindiaa.com', 
    'kapiva.in', 
    'keychron.in', 
    'louisphilippe.abfrl.in', 
    'luxe.ajio.com', 
    'luxury.tatacliq.com', 
    'm.fnp.com', 
    'fnp.com', 
    'm.shop.adidas.co.in', 
    'm.shop4reebok.com', 
    'm.snapdeal.com', 
    'm.store.mi.com/in', 
    'm.zara.com/in', 
    'maccaron.in', 
    'mamaearth.in', 
    'motocentral.in', 
    'motoavenue.in', 
    'muji.ajio.com', 
    'mx2games.com', 
    'nakpro.com', 
    'naturemania.in', 
    'nishhair.com', 
    'noorchikankari.in', 
    'overlays.co', 
    'perforacare.com', 
    'pearlshaving.in', 
    'printride.com', 
    'rajcomics.shop', 
    'rajcomicsuniverse.com', 
    'redtape.com', 
    'robocraze.com', 
    'robokits.co.in', 
    'safexbikes.com', 
    'shop.mumbaiindians.com', 
    'shop.tvsmotor.com', 
    'shop.yamaha-motor-india.com', 
    'superkicks.in', 
    'thedermaco.com', 
    'urbanplatter.in', 
    'uspoloassn.in', 
    'uspoloassn.nnnow.com', 
    'vanheusenindia.abfrl.in', 
    'wildcraft.com', 
    'aldoshoes.in', 
    'allensolly.com', 
    'www.ankerindia.com', 
    'www.apple.com/in', 
    'www.asics.co.in', 
    'www.bata.in', 
    'www.bathandbodyworks.in', 
    'www.beautypalace.in', 
    'www.berrylush.com', 
    'www.beatxp.com', 
    'behica.com', 
    'birkenstock.in', 
    'bigrocknutrition.in', 
    'bobogears.com', 
    'bookswagon.com', 
    'boultaudio.com', 
    'carlo-romano.com', 
    'casio.com/in', 
    'charleskeith.com/in', 
    'chennaisuperkings.com', 
    'clinikally.com', 
    'clovia.com', 
    'clinique.in', 
    'cocoabean.in', 
    'comicstaan.in', 
    'comikart.com', 
    'converse.in', 
    'cubelelo.com', 
    'damensch.com', 
    'dyson.in', 
    'dotandkey.com', 
    'dugdugmotorcycles.com', 
    'fabindia.com', 
    'fastrack.in', 
    'fireboltt.com', 
    'reliancedigital.in', 
    'forevernew.co.in', 
    'fossil.com/en-in', 
    'globaldesi.in', 
    'gnc.com', 
    'hamleys.in', 
    'healthmug.com', 
    'hopscotch.in', 
    'houseofindya.com', 
    'houseofjhumkas.com', 
    'ishalife.com', 
    'jackjones.in', 
    'janasya.in', 
    'jhajistore.com', 
    'jiomart.com', 
    'kamaayurveda.com', 
    'karagiri.com', 
    'myprotein.co.in', 
    'mywishcare.com', 
    'nykaaman.com', 
    'o-lens.co.in', 
    'nyptra.com', 
    'oneplus.in', 
    'optimumnutrition.com', 
    'oziva.in', 
    'oxolloxo.com', 
    'purplle.com', 
    'reikicrystalproducts.com', 
    'royalcanin.com', 
    'royalchallengers.com', 
    'samsonite.in', 
    'shopclues.com', 
    'shoppersstop.com', 
    'skechers.in', 
    'skullcandy.in', 
    'speedo.in', 
    'soultree.in', 
    'steelbirdhelmet.com', 
    'tatacliq.com', 
    'tirabeauty.com', 
    'titan.co.in', 
    'underarmour.in', 
    'ustraa.com', 
    'uyyaala.com', 
    'vanheusenindia.com', 
    'veromoda.in', 
    'vmartretail.com', 
    'wakefit.co', 
    'wildstone.in', 
    'wrangler.in', 
    'libas.in', 
    'zivame.com', 
    'tripole.in', 
    'sleepycat.in', 
    'buy.realme.com', 
    'healthyhey.com', 
    'shop.globalbees.com', 
    'search.app', 
    'shopforaurelia.com', 
    'wforwoman.com', 
    'wishfulbyw.com', 
    'www.elleven.in', 
    'www.forever21.com'
    'overlaysnow.com'
];
       const companyLogos = {
    'www.amazon.in': 'https://shorturl.at/DuzAC',
    'amazon.in': 'https://shorturl.at/DuzAC',
    'amzn.in': 'https://shorturl.at/DuzAC',
    'flipkart.com': 'https://logo.clearbit.com/flipkart.com',
    'dl.flipkart.com': 'https://logo.clearbit.com/flipkart.com',
    'www.myntra.com': 'https://logo.clearbit.com/myntra.com',
    'firstcry.com': 'https://logo.clearbit.com/firstcry.com',
    'clarks.in': 'https://logo.clearbit.com/clarks.in',
    'decathlon.in': 'https://logo.clearbit.com/decathlon.in',
    'www2.hm.com/en_in': 'https://logo.clearbit.com/hm.com',
    'hm.com': 'https://logo.clearbit.com/hm.com',
    'ajio.com': 'https://logo.clearbit.com/ajio.com',
    'nykaa.com': 'https://logo.clearbit.com/nykaa.com',
    'www.nykaafashion.com': 'https://logo.clearbit.com/nykaafashion.com',
    'www.zara.com/in': 'https://logo.clearbit.com/zara.com',
    'meesho.com': 'https://logo.clearbit.com/meesho.com',
    'in.jbl.com': 'https://logo.clearbit.com/jbl.com',
    'boat-lifestyle.com': 'https://logo.clearbit.com/boat-lifestyle.com',
    'www.layers.shop': 'https://logo.clearbit.com/layers.shop',
    'boodmo.com': 'https://logo.clearbit.com/boodmo.com',
    'makemydelivery.com': 'https://logo.clearbit.com/makemydelivery.com',
    'theblackstore.in': 'https://logo.clearbit.com/theblackstore.in',
    'baccabucci.com': 'https://logo.clearbit.com/baccabucci.com',
    'shopsy.in': 'https://logo.clearbit.com/shopsy.in',
    'shopforaurelia.com': 'https://logo.clearbit.com/shopforaurelia.com',
    'nutrabay.com': 'https://shorturl.at/9C0lV',
    'thevistastore.in': 'https://logo.clearbit.com/thevistastore.in',
    'boldcare.in': 'https://logo.clearbit.com/boldcare.in',
    'headphonezone.in': 'https://logo.clearbit.com/headphonezone.in',
    'mdcomputers.in': 'https://logo.clearbit.com/mdcomputers.in',
    'pantaloons.com': 'https://shorturl.at/ltAFQ',
    'westside.com': 'https://logo.clearbit.com/westside.com',
    'swisse.co.in': 'https://logo.clearbit.com/swisse.co.in',
    'marksandspencer.in': 'https://logo.clearbit.com/marksandspencer.in',
    'casioindiashop.com': 'https://logo.clearbit.com/casioindiashop.com',
    'croma.com': 'https://logo.clearbit.com/croma.com',
    'mivi.in': 'https://logo.clearbit.com/mivi.in',
    'robu.in': 'https://logo.clearbit.com/robu.in',
    'shein.in': 'https://shorturl.at/aJcjE,
    'buy.realme.com': 'https://logo.clearbit.com/realme.com',
    'sephora.in': 'https://logo.clearbit.com/sephora.in',
    'store.mi.com/in': 'https://logo.clearbit.com/mi.com',
    'www.uniqlo.com/in': 'https://logo.clearbit.com/uniqlo.com',
    'muscleblaze.com': 'https://logo.clearbit.com/muscleblaze.com',
    'www.adidas.co.in': 'https://logo.clearbit.com/adidas.co.in',
    'adidas.co.in': 'https://logo.clearbit.com/adidas.co.in',
    'acharyaprashant.org': 'https://logo.clearbit.com/acharyaprashant.org',
    'healthkart.com': 'https://logo.clearbit.com/healthkart.com',
    'wforwoman.com': 'https://logo.clearbit.com/wforwoman.com',
    'jockey.in': 'https://shorturl.at/mScex',
    'xyxxcrew.com': 'https://logo.clearbit.com/xyxxcrew.com',
    'srisritattva.com': 'https://logo.clearbit.com/srisritattva.com',
    'avvatarindia.com': 'https://logo.clearbit.com/avvatarindia.com',
    'sbd-india.com': 'https://logo.clearbit.com/sbd-india.com',
    'nobero.com': 'https://logo.clearbit.com/nobero.com',
    'snitch.co.in': 'https://logo.clearbit.com/snitch.co.in',
    'in.puma.com': 'https://logo.clearbit.com/puma.com',
    'rynoxgear.com': 'https://logo.clearbit.com/rynoxgear.com',
    'kapaver.com': 'https://logo.clearbit.com/kapaver.com',
    'lenskart.com': 'https://logo.clearbit.com/lenskart.com',
    'limeroad.com': 'https://logo.clearbit.com/limeroad.com',
    'aldoshoes.com': 'https://logo.clearbit.com/aldoshoes.com',
    'ishalife.sadhguru.org': 'https://logo.clearbit.com/ishalife.sadhguru.org',
    'crocs.in': 'https://logo.clearbit.com/crocs.com',
    'shop.bewakoof.com': 'https://logo.clearbit.com/bewakoof.com',
    'libertyshoesonline.com': 'https://logo.clearbit.com/libertyshoesonline.com',
    'pathpavers.in': 'https://logo.clearbit.com/pathpavers.in',
    'safaribags.com': 'https://safaribags.com/cdn/shop/files/safari_logo_160x.png?v=1701758679',
    'intl.diabexy.com': 'https://logo.clearbit.com/diabexy.com',
    'diabexy.com': 'https://logo.clearbit.com/diabexy.com',
    'snapdeal.com': 'https://logo.clearbit.com/snapdeal.com',
    'reebok.abfrl.in': 'https://logo.clearbit.com/reebok.com',
    'perfumesteal.in': 'https://logo.clearbit.com/perfumesteal.in',
    'www.biba.in': 'https://logo.clearbit.com/biba.in',
    'biba.in': 'https://logo.clearbit.com/biba.in',
    'urbanmonkey.com': 'https://logo.clearbit.com/urbanmonkey.com',
    'www.nike.com/in': 'https://logo.clearbit.com/nike.com',
    'footballmonk.in': 'https://logo.clearbit.com/footballmonk.in',
    'levi.in': 'https://logo.clearbit.com/levi.in',
    'thesouledstore.com': 'https://logo.clearbit.com/thesouledstore.com',
    'gonoise.com': 'https://logo.clearbit.com/gonoise.com',
    'drsu.in': 'https://logo.clearbit.com/drsu.in',
    'earthrhythm.com': 'https://logo.clearbit.com/earthrhythm.com',
    'eauto.co.in': 'https://logo.clearbit.com/eauto.co.in',
    'ecovacsindia.in': 'https://logo.clearbit.com/ecovacs.com',
    'enfieldandactivazone.com': 'https://logo.clearbit.com/enfieldandactivazone.com',
    'forever21.abfrl.in': 'https://logo.clearbit.com/forever21.com',
    'fuaark.com': 'https://logo.clearbit.com/fuaark.com',
    'gap.ajio.com': 'https://logo.clearbit.com/gap.ajio.com',
    'gap.nnnow.com': 'https://logo.clearbit.com/gap.nnnow.com',
    'happafoods.com': 'https://logo.clearbit.com/happafoods.com',
    'hatstore.co.in': 'https://logo.clearbit.com/hatstore.co.in',
    'healthfarmnutrition.com': 'https://logo.clearbit.com/healthfarmnutrition.com',
    'headsupfortails.com': 'https://logo.clearbit.com/headsupfortails.com',
    'idaho-o.com': 'https://logo.clearbit.com/idaho-o.com',
    'in.amazfit.com': 'https://logo.clearbit.com/amazfit.com',
    'in.iherb.com': 'https://logo.clearbit.com/iherb.com',
    'in.urbanic.com': 'https://logo.clearbit.com/urbanic.com',
    'in.sirphire.com': 'https://logo.clearbit.com/sirphire.com',
    'india.diabexy.com': 'https://logo.clearbit.com/diabexy.com',
    'indianaquarium.com': 'https://logo.clearbit.com/indianaquarium.com',
    'kalakaarindiaa.com': 'https://logo.clearbit.com/kalakaarindiaa.com',
    'kapiva.in': 'https://logo.clearbit.com/kapiva.in',
    'keychron.in': 'https://logo.clearbit.com/keychron.in',
    'louisphilippe.abfrl.in': 'https://logo.clearbit.com/louisphilippe.abfrl.in',
    'luxe.ajio.com': 'https://shorturl.at/XgPCR',
    'luxury.tatacliq.com': 'https://logo.clearbit.com/luxury.tatacliq.com',
    'm.fnp.com': 'https://logo.clearbit.com/fnp.com',
    'fnp.com': 'https://logo.clearbit.com/fnp.com',
    'm.shop.adidas.co.in': 'https://logo.clearbit.com/adidas.co.in',
    'm.shop4reebok.com': 'https://logo.clearbit.com/reebok.com',
    'm.snapdeal.com': 'https://logo.clearbit.com/snapdeal.com',
    'm.store.mi.com/in': 'https://logo.clearbit.com/mi.com',
    'm.zara.com/in': 'https://logo.clearbit.com/zara.com',
    'maccaron.in': 'https://maccaron.in/images/maccaron-logo.jpg',
    'mamaearth.in': 'https://images.mamaearth.in/wysiwyg/mamaearth-logo.png',
    'motocentral.in': 'https://logo.clearbit.com/motocentral.in',
    'motoavenue.in': 'https://motoavenue.in/wp-content/uploads/2023/03/logo-brown.webp',
    'muji.ajio.com': 'https://logo.clearbit.com/muji.com',
    'mx2games.com': 'https://mx2games.com/wp-content/uploads/2021/06/n1.png',
    'nakpro.com': 'https://logo.clearbit.com/nakpro.com',
    'naturemania.in': 'https://logo.clearbit.com/naturemania.in',
    'nishhair.com': 'https://logo.clearbit.com/nishhair.com',
    'noorchikankari.in': 'https://logo.clearbit.com/noorchikankari.in',
    'overlays.co': 'https://overlaysnow.com/cdn/shop/files/Logo-New_150x.png?v=1729690602',
    'overlaysnow.com': 'https://overlaysnow.com/cdn/shop/files/Logo-New_150x.png?v=1729690602',
    'perforacare.com': 'https://logo.clearbit.com/perforacare.com',
    'pearlshaving.in': 'https://logo.clearbit.com/pearlshaving.in',
    'printride.com': 'https://logo.clearbit.com/printride.com',
    'rajcomics.shop': 'https://logo.clearbit.com/rajcomics.shop',
    'rajcomicsuniverse.com': 'https://logo.clearbit.com/rajcomicsuniverse.com',
    'redtape.com': 'https://logo.clearbit.com/redtape.com',
    'robocraze.com': 'https://logo.clearbit.com/robocraze.com',
    'robokits.co.in': 'https://logo.clearbit.com/robokits.co.in',
    'safexbikes.com': 'https://safexbikes.com/images/safexbikes_logo_red_black_180px_48px.png',
    'shop.mumbaiindians.com': 'https://logo.clearbit.com/mumbaiindians.com',
    'shop.tvsmotor.com': 'https://logo.clearbit.com/tvsmotor.com',
    'shop.yamaha-motor-india.com': 'https://cdn.shopify.com/s/files/1/0283/2934/5058/t/16/assets/yamaha-logo.png',
    'superkicks.in': 'https://logo.clearbit.com/superkicks.in',
    'thedermaco.com': 'https://logo.clearbit.com/thedermaco.com',
    'urbanplatter.in': 'https://logo.clearbit.com/urbanplatter.in',
    'uspoloassn.in': 'https://logo.clearbit.com/uspoloassn.in',
    'uspoloassn.nnnow.com': 'https://logo.clearbit.com/uspoloassn.nnnow.com',
    'vanheusenindia.abfrl.in': 'https://logo.clearbit.com/vanheusen.com',
    'wildcraft.com': 'https://logo.clearbit.com/wildcraft.com',
    'aldoshoes.in': 'https://logo.clearbit.com/aldoshoes.in',
    'allensolly.com': 'https://shorturl.at/bpKl5',
    'www.ankerindia.com': 'https://logo.clearbit.com/ankerindia.com',
    'www.apple.com/in': 'https://logo.clearbit.com/apple.com',
    'www.asics.co.in': 'https://logo.clearbit.com/asics.com',
    'www.bata.in': 'https://logo.clearbit.com/bata.in',
    'www.bathandbodyworks.in': 'https://logo.clearbit.com/bathandbodyworks.in',
    'www.beautypalace.in': 'https://logo.clearbit.com/beautypalace.in',
    'www.berrylush.com': 'https://logo.clearbit.com/berrylush.com',
    'www.beatxp.com': 'https://logo.clearbit.com/beatxp.com',
    'behica.com': 'https://logo.clearbit.com/behica.com',
    'birkenstock.in': 'https://logo.clearbit.com/birkenstock.in',
    'bigrocknutrition.in': 'https://logo.clearbit.com/bigrocknutrition.in',
    'bobogears.com': 'https://logo.clearbit.com/bobogears.com',
    'bookswagon.com': 'https://logo.clearbit.com/bookswagon.com',
    'boultaudio.com': 'https://logo.clearbit.com/boultaudio.com',
    'carlo-romano.com': 'https://logo.clearbit.com/carlo-romano.com',
    'casio.com/in': 'https://logo.clearbit.com/casio.com',
    'charleskeith.com/in': 'https://logo.clearbit.com/charleskeith.com',
    'chennaisuperkings.com': 'https://logo.clearbit.com/chennaisuperkings.com',
    'clinikally.com': 'https://logo.clearbit.com/clinikally.com',
    'clovia.com': 'https://logo.clearbit.com/clovia.com',
    'clinique.in': 'https://logo.clearbit.com/clinique.in',
    'cocoabean.in': 'https://www.cocoabean.in/pub/media/logo/stores/4/logo_cocoa.png',
    'comicstaan.in': 'https://logo.clearbit.com/comicstaan.in',
    'comikart.com': 'https://logo.clearbit.com/comikart.com',
    'converse.in': 'https://logo.clearbit.com/converse.in',
    'cubelelo.com': 'https://logo.clearbit.com/cubelelo.com',
    'damensch.com': 'https://logo.clearbit.com/damensch.com',
    'dyson.in': 'https://logo.clearbit.com/dyson.in',
    'dotandkey.com': 'https://logo.clearbit.com/dotandkey.com',
    'dugdugmotorcycles.com': 'https://logo.clearbit.com/dugdugmotorcycles.com',
    'fabindia.com': 'https://logo.clearbit.com/fabindia.com',
    'fastrack.in': 'https://logo.clearbit.com/fastrack.in',
    'fireboltt.com': 'https://logo.clearbit.com/fireboltt.com',
    'reliancedigital.in': 'https://logo.clearbit.com/reliancedigital.in',
    'forevernew.co.in': 'https://logo.clearbit.com/forevernew.co.in',
    'fossil.com/en-in': 'https://www.fossil.com/on/demandware.static/Sites-fossil-na-Site/-/default/dwfde12849/images/FSL-2023-NEW-Logo.svg',
    'globaldesi.in': 'https://logo.clearbit.com/globaldesi.in',
    'gnc.com': 'https://logo.clearbit.com/gnc.com',
    'hamleys.in': 'https://logo.clearbit.com/hamleys.in',
    'healthmug.com': 'https://logo.clearbit.com/healthmug.com',
    'hopscotch.in': 'https://logo.clearbit.com/hopscotch.in',
    'houseofindya.com': 'https://logo.clearbit.com/houseofindya.com',
    'houseofjhumkas.com': 'https://logo.clearbit.com/houseofjhumkas.com',
    'ishalife.com': 'https://logo.clearbit.com/ishalife.com',
    'jackjones.in': 'https://logo.clearbit.com/jackjones.in',
    'janasya.in': 'https://janasya.com/cdn/shop/files/JANASYA-LOGO-CDR.svg?v=1704446550&width=220',
    'jhajistore.com': 'https://logo.clearbit.com/jhajistore.com',
    'jiomart.com': 'https://logo.clearbit.com/jiomart.com',
    'kamaayurveda.com': 'https://logo.clearbit.com/kamaayurveda.com',
    'karagiri.com': 'https://logo.clearbit.com/karagiri.com',
    'myprotein.co.in': 'https://logo.clearbit.com/myprotein.co.in',
    'mywishcare.com': 'https://logo.clearbit.com/mywishcare.com',
    'nykaaman.com': 'https://logo.clearbit.com/nykaaman.com',
    'o-lens.co.in': 'https://logo.clearbit.com/o-lens.co.in',
    'oneplus.in': 'https://logo.clearbit.com/oneplus.in',
    'puma.in': 'https://logo.clearbit.com/puma.in',
    'sareez.com': 'https://logo.clearbit.com/sareez.com',
    'store.dell.com': 'https://logo.clearbit.com/dell.com',
    'store.hp.com': 'https://logo.clearbit.com/hp.com',
    'store.macys.com': 'https://logo.clearbit.com/macys.com',
    'zivame.com': 'https://logo.clearbit.com/zivame.com',
};

        urlInput.addEventListener('input', debounce(handleUrlInput, 500));

        function debounce(func, delay) {
            let timeoutId;
            return function (...args) {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => func.apply(this, args), delay);
            };
        }

        function showLoading() {
            loadingSpinner.classList.remove('hidden');
            placeholderText.classList.add('hidden');
        }

        function hideLoading() {
            loadingSpinner.classList.add('hidden');
        }

        function resetThumbnail() {
            thumbnailContainer.innerHTML = '<p id="placeholderText" class="text-gray-400 text-xs text-center p-1">Enter URL</p>';
            thumbnailContainer.classList.remove('border-blue-500');
            thumbnailContainer.classList.add('border-gray-200');
            productNameInput.value = '';
            productNameHint.classList.add('hidden');
            updateCharacterCount();
        }

        function showErrorMessage(message) {
            domainMessage.textContent = message;
            domainMessage.classList.remove('hidden');
        }

        function hideErrorMessage() {
            domainMessage.textContent = '';
            domainMessage.classList.add('hidden');
        }

        function extractDomain(url) {
            try {
                const hostname = new URL(url).hostname;
                const parts = hostname.split('.');
                return parts.slice(-2).join('.');
            } catch (error) {
                console.error('Invalid URL:', error);
                return null;
            }
        }

        function disableProductNameInput() {
            productNameInput.disabled = true;
            productNameInput.classList.add('bg-gray-100', 'cursor-not-allowed');
        }

        function enableProductNameInput() {
            productNameInput.disabled = false;
            productNameInput.classList.remove('bg-gray-100', 'cursor-not-allowed');
        }

        async function handleUrlInput() {
            const url = urlInput.value.trim();
            if (!url) {
                resetThumbnail();
                hideErrorMessage();
                enableProductNameInput();
                return;
            }

            const domain = extractDomain(url);
            if (!domain) {
                showErrorMessage("Invalid URL. Please enter a valid URL.");
                resetThumbnail();
                disableProductNameInput();
                return;
            }

            if (!allowedDomains.includes(domain)) {
                showErrorMessage("We do not operate for this website.");
                resetThumbnail();
                disableProductNameInput();
                return;
            }

            hideErrorMessage();
            enableProductNameInput();
            showLoading();

            try {
                const companyLogo = companyLogos[domain];

                if (companyLogo) {
                    await loadImageWithTimeout(companyLogo, 3000);
                    return;
                }

                const { status, data } = await mql(url);

                if (status === 'success') {
                    let thumbnailUrl = data.image?.url || data.logo?.url;
                    
                    productNameInput.value = data.title ? data.title.substring(0, 30) : '';
                    productNameInput.focus();
                    productNameInput.setSelectionRange(0, productNameInput.value.length);
                    productNameHint.classList.remove('hidden');
                    updateCharacterCount();

                    if (thumbnailUrl) {
                        await loadImageWithTimeout(thumbnailUrl, 3000);
                    } else {
                        throw new Error('No thumbnail URL available');
                    }
                } else {
                    throw new Error('Failed to fetch thumbnail');
                }
            } catch (error) {
                console.error('Error fetching thumbnail:', error);
                await handleFallbackImage(url);
            }
        }

        async function loadImageWithTimeout(url, timeout) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = () => {
                    hideLoading();
                    thumbnailContainer.innerHTML = `<img src="${url}" alt="Thumbnail" class="w-full h-full object-cover rounded-lg">`;
                    thumbnailContainer.classList.remove('border-gray-200');
                    thumbnailContainer.classList.add('border-blue-500');
                    resolve();
                };
                img.onerror = () => {
                    reject(new Error('Failed to load image'));
                };
                img.src = url;

                setTimeout(() => {
                    reject(new Error('Image load timeout'));
                }, timeout);
            });
        }

        async function handleFallbackImage(url) {
            const domain = extractDomain(url);
            await tryFreeLogoApi(domain);
        }

        async function tryFreeLogoApi(domain) {
            const clearbitLogoUrl = `https://logo.clearbit.com/${domain}`;
            try {
                await loadImageWithTimeout(clearbitLogoUrl, 3000);
            } catch (error) {
                displayDomainName(domain);
            }
        }

        function displayDomainName(domain) {
            hideLoading();
            thumbnailContainer.innerHTML = `
                <div class="w-full h-full flex items-center justify-center bg-gray-200 rounded-lg">
                    <span class="text-xs font-bold text-gray-700 break-all px-1 text-center">${domain}</span>
                </div>
            `;
            thumbnailContainer.classList.remove('border-gray-200');
            thumbnailContainer.classList.add('border-blue-500');
        }

        productNameInput.addEventListener('input', function() {
            updateCharacterCount();
            console.log('Product name changed to:', this.value);
        });

        function updateCharacterCount() {
            const count = productNameInput.value.length;
            characterCount.textContent = `${count} / 30 characters`;
        }
    </script>
</body>
</html>
